<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://selenium-ide.openqa.org/profiles/test-case">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="selenium.base" href="http://redmine.greensight.ru/" />
<title>DeveloperCreateTicket</title>
</head>
<body>
<table cellpadding="1" cellspacing="1" border="1">
<thead>
<tr><td rowspan="1" colspan="3">DeveloperCreateTicket</td></tr>
</thead><tbody>
<tr>
	<td>storeLocation</td>
	<td>link</td>
	<td></td>
</tr>
<!--Чтение массива тикетов-->
<tr>
	<td>storeEval</td>
	<td>'${link}'.slice('${link}'.lastIndexOf('/')+1)</td>
	<td>num</td>
</tr>
<tr>
	<td>storeText</td>
	<td>//h1</td>
	<td>proj</td>
</tr>
<tr>
	<td>storeText</td>
	<td>//div[@class='subject']//h3</td>
	<td>title</td>
</tr>
<tr>
	<td>storeText</td>
	<td>//td[@class='assigned-to']</td>
	<td>user</td>
</tr>
<tr>
	<td>storeText</td>
	<td>//div[@id='content']//h2</td>
	<td>tracker</td>
</tr>
<tr>
	<td>storeEval</td>
	<td>'${tracker}'.slice(0, '${tracker}'.indexOf(' '))</td>
	<td>tracker</td>
</tr>
<tr>
	<td>storeText</td>
	<td>//p[@class='author']/a</td>
	<td>author</td>
</tr>
<!--Трекер: Разработка, Дизайн, Управление, Дефект, Тестирование, Улучшение, Верстка-->
<tr>
	<td>store</td>
	<td>Задачи для оценки</td>
	<td>lane</td>
</tr>
<tr>
	<td>storeEval</td>
	<td>if ('${proj}'=='Atego') 'Женя'; if ('${proj}'=='Centro') '!Юля'; if ('${proj}'=='DirectGroup') 'Аня'; if ('${proj}'=='Electrolab.ru (гарантийная поддержка до 06.2014)') 'Паша'; if ('${proj}'=='Gisele') 'Наташа'; if ('${proj}'=='Investcafe: django version') 'Паша'; if ('${proj}'=='Jamilco: ТП » cyan.ru') '!Юля'; if ('${proj}'=='Jamilco: ТП » intranet.jamilco') '!Юля'; if ('${proj}'=='Jamilco: ТП » lvbco.ru') '!Юля'; if ('${proj}'=='Jamilco: ТП » STJames') '!Юля'; if ('${proj}'=='Jamilco: ТП » Wolford') '!Юля'; if ('${proj}'=='MSTO') 'Аня'; if ('${proj}'=='Sander project » LPW') '!Юля'; if ('${proj}'=='Sander project » RSW') 'Женя'; if ('${proj}'=='thebodyshop.ru: ТП') 'Аня'; if ('${proj}'=='TopDelivery') '!Юля'; if ('${proj}'=='Trends Brands for Friends: ТП') '!Юля'; if ('${proj}'=='Trends Brands for Friends: ТП » Мобильная версия') '!Юля'; if ('${proj}'=='TS-Market') 'Женя'; if ('${proj}'=='Wedding planner') 'Наташа'; if ('${proj}'=='WordDive') 'Вова'; if ('${proj}'=='Zyxel: комплексная поддержка сайтов » zyxel helpdesk') 'Паша'; if ('${proj}'=='Zyxel: комплексная поддержка сайтов » zyxel.ru') 'Паша'; if ('${proj}'=='Авточмо') 'Вова'; if ('${proj}'=='Банк Новопокровский') '!Юля'; if ('${proj}'=='Веста Банк : TП') 'Аня'; if ('${proj}'=='Вестник') 'Женя'; if ('${proj}'=='ГК «ПИК»: ТП » pik.ru') '!Юля'; if ('${proj}'=='ГК «ПИК»: ТП » ПИК Тендеры') '!Юля'; if ('${proj}'=='ГК «ПИК»: ТП » ПИК остальное') '!Юля'; if ('${proj}'=='Компания Greensight') 'Паша'; if ('${proj}'=='Компания Greensight » CashYou') 'Вова'; if ('${proj}'=='Компания Greensight » corp.greensight.ru') 'Паша'; if ('${proj}'=='Компания Greensight » Greensight.ru') 'Паша'; if ('${proj}'=='Компания Greensight » Presale') 'Паша'; if ('${proj}'=='Компания Greensight » Presale » Автодор-ПД') 'Паша'; if ('${proj}'=='Компания Greensight » Presale » Интернет-магазин для Югория') 'Паша'; if ('${proj}'=='Компания Greensight » WhiteCRM') 'Паша'; if ('${proj}'=='Компания Greensight » Жидодокс') 'Роман Сергеевич'; if ('${proj}'=='Компания Greensight » Редизайн Redmine') 'Паша'; if ('${proj}'=='Компания Greensight » Самообучение') 'Наташа'; if ('${proj}'=='Компания Greensight » Управление отделом разработки') 'Паша'; if ('${proj}'=='Лидер: ТП') 'Женя'; if ('${proj}'=='ОТТО') 'Аня'; if ('${proj}'=='ПРИМАДОМ') 'Аня'; if ('${proj}'=='Пробюро » ИНТ') 'Женя'; if ('${proj}'=='Пробюро » СОЗ') 'Женя'; if ('${proj}'=='Пробюро » КОРП') '!Юля'; if ('${proj}'=='Промко') 'Женя'; if ('${proj}'=='СТД «Петрович»') 'Аня'; if ('${proj}'=='Спаси дитя') 'Наташа'; if ('${proj}'=='Спортмастер » Nordway') 'Аня'; if ('${proj}'=='Спортмастер » Спортмастер SLA') 'Аня'; if ('${proj}'=='ТП РАД') 'Аня';</td>
	<td>cardType</td>
</tr>
<tr>
	<td>storeEval</td>
	<td>if ('${proj}'=='Atego') 'zozulya@greensight.ru'; if ('${proj}'=='Centro') 'judova@greensight.ru'; if ('${proj}'=='DirectGroup') 'shchetina@greensight.ru'; if ('${proj}'=='Electrolab.ru (гарантийная поддержка до 06.2014)') 'sitkin@greensight.ru'; if ('${proj}'=='Gisele') 'sarafanova@greensight.ru'; if ('${proj}'=='Investcafe: django version') 'sitkin@greensight.ru'; if ('${proj}'=='Jamilco: ТП » cyan.ru') 'judova@greensight.ru'; if ('${proj}'=='Jamilco: ТП » intranet.jamilco') 'judova@greensight.ru'; if ('${proj}'=='Jamilco: ТП » lvbco.ru') 'judova@greensight.ru'; if ('${proj}'=='Jamilco: ТП » STJames') 'judova@greensight.ru'; if ('${proj}'=='Jamilco: ТП » Wolford') 'judova@greensight.ru'; if ('${proj}'=='MSTO') 'shchetina@greensight.ru'; if ('${proj}'=='Sander project » LPW') 'judova@greensight.ru'; if ('${proj}'=='Sander project » RSW') 'zozulya@greensight.ru'; if ('${proj}'=='thebodyshop.ru: ТП') 'shchetina@greensight.ru'; if ('${proj}'=='TopDelivery') 'judova@greensight.ru'; if ('${proj}'=='Trends Brands for Friends: ТП') 'judova@greensight.ru'; if ('${proj}'=='Trends Brands for Friends: ТП » Мобильная версия') 'judova@greensight.ru'; if ('${proj}'=='TS-Market') 'zozulya@greensight.ru'; if ('${proj}'=='Wedding planner') 'sarafanova@greensight.ru'; if ('${proj}'=='WordDive') 'loskutov@greensight.ru'; if ('${proj}'=='Zyxel: комплексная поддержка сайтов » zyxel helpdesk') 'sitkin@greensight.ru'; if ('${proj}'=='Zyxel: комплексная поддержка сайтов » zyxel.ru') 'sitkin@greensight.ru'; if ('${proj}'=='Авточмо') 'loskutov@greensight.ru'; if ('${proj}'=='Банк Новопокровский') 'judova@greensight.ru'; if ('${proj}'=='Веста Банк : TП') 'shchetina@greensight.ru'; if ('${proj}'=='Вестник') 'zozulya@greensight.ru'; if ('${proj}'=='ГК «ПИК»: ТП » pik.ru') 'judova@greensight.ru'; if ('${proj}'=='ГК «ПИК»: ТП » ПИК Тендеры') 'judova@greensight.ru'; if ('${proj}'=='ГК «ПИК»: ТП » ПИК остальное') 'judova@greensight.ru'; if ('${proj}'=='Компания Greensight') 'sitkin@greensight.ru'; if ('${proj}'=='Компания Greensight » CashYou') 'loskutov@greensight.ru'; if ('${proj}'=='Компания Greensight » corp.greensight.ru') 'sitkin@greensight.ru'; if ('${proj}'=='Компания Greensight » Greensight.ru') 'sitkin@greensight.ru'; if ('${proj}'=='Компания Greensight » Presale') 'sitkin@greensight.ru'; if ('${proj}'=='Компания Greensight » Presale » Автодор-ПД') 'sitkin@greensight.ru'; if ('${proj}'=='Компания Greensight » Presale » Интернет-магазин для Югория') 'sitkin@greensight.ru'; if ('${proj}'=='Компания Greensight » WhiteCRM') 'sitkin@greensight.ru'; if ('${proj}'=='Компания Greensight » Жидодокс') 'orlov@greensight.ru'; if ('${proj}'=='Компания Greensight » Редизайн Redmine') 'sitkin@greensight.ru'; if ('${proj}'=='Компания Greensight » Самообучение') 'sarafanova@greensight.ru'; if ('${proj}'=='Компания Greensight » Управление отделом разработки') 'sitkin@greensight.ru'; if ('${proj}'=='Лидер: ТП') 'zozulya@greensight.ru'; if ('${proj}'=='ОТТО') 'shchetina@greensight.ru'; if ('${proj}'=='ПРИМАДОМ') 'shchetina@greensight.ru'; if ('${proj}'=='Пробюро » ИНТ') 'zozulya@greensight.ru'; if ('${proj}'=='Пробюро » СОЗ') 'zozulya@greensight.ru'; if ('${proj}'=='Пробюро » КОРП') 'judova@greensight.ru'; if ('${proj}'=='Промко') 'zozulya@greensight.ru'; if ('${proj}'=='СТД «Петрович»') 'shchetina@greensight.ru'; if ('${proj}'=='Спаси дитя') 'sarafanova@greensight.ru'; if ('${proj}'=='Спортмастер » Nordway') 'shchetina@greensight.ru'; if ('${proj}'=='Спортмастер » Спортмастер SLA') 'shchetina@greensight.ru'; if ('${proj}'=='ТП РАД') 'shchetina@greensight.ru';</td>
	<td>defaultUserType</td>
</tr>
<tr>
	<td>storeEval</td>
	<td>if ('${tracker}'=='Дефект') 'Bug'; else ''</td>
	<td>tag</td>
</tr>
<tr>
	<td>storeEval</td>
	<td>if ('${user}'=='Александр Смирнов') 'smirnov@greensight.ru'; if ('${user}'=='Алексей Курлаев') 'kurlaev@greensight.ru'; if ('${user}'=='Анатолий Юдов') 'anatoly@greensight.ru'; if ('${user}'=='Андрей Нелюбин') 'nelubin@greensight.ru'; if ('${user}'=='Анна Щетина') 'shchetina@greensight.ru'; if ('${user}'=='Антон Амелин') 'amelin@greensight.ru'; if ('${user}'=='Артём Кудрявцев') 'kudriavtsev@greensight.ru'; if ('${user}'=='Владимир Лоскутов') 'loskutov@greensight.ru'; if ('${user}'=='Владислав Богомаз') 'bogomaz@greensight.ru'; if ('${user}'=='Евгений Зозуля') 'zozulya@greensight.ru'; if ('${user}'=='Егор Волков') 'volkov@greensight.ru'; if ('${user}'=='Екатерина Павлова') 'pavlova@greensight.ru'; if ('${user}'=='Илья Некрасов') 'nekrasov@greensight.ru'; if ('${user}'=='Константин Тюфякин') 'tiufyakin@greensight.ru'; if ('${user}'=='Мустафо Зубайдуллоев') 'mustafo@greensight.ru'; if ('${user}'=='Наталья Сарафанова') 'sarafanova@greensight.ru'; if ('${user}'=='Ольга Лихачева') 'likhacheva@greensight.ru'; if ('${user}'=='Павел Ситкин') 'sitkin@greensight.ru'; if ('${user}'=='Роман Мицкович') 'mitskovich@greensight.ru'; if ('${user}'=='Роман Орлов') 'orlov@greensight.ru'; if ('${user}'=='Сергей Мелихов') 'melihov@greensight.ru'; if ('${user}'=='Юля Юдова') 'judova@greensight.ru'; if ('${user}'=='Юрий Мельников') 'valenki@greensight.ru';</td>
	<td>userType</td>
</tr>
<tr>
	<td>storeEval</td>
	<td>if ('${userType}'=='null') '${defaultUserType}'; else '${userType}';</td>
	<td>userType</td>
</tr>
<!--Поехали-->
<tr>
	<td>open</td>
	<td>https://greensight.leankit.com/Boards/View/38241271</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=addCard-button</td>
	<td></td>
</tr>
<tr>
	<td>waitForVisible</td>
	<td>id=card-save</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=Card_Title</td>
	<td>${proj} ${num}: ${title}</td>
</tr>
<tr>
	<td>select</td>
	<td>id=Card_Type</td>
	<td>label=${cardType}</td>
</tr>
<tr>
	<td>runScript</td>
	<td>tinymce.getInstanceById(1).setContent('&lt;a href=&quot;http://redmine.greensight.ru/issues/${num}&quot; data-mce-href=&quot;http://redmine.greensight.ru/issues/${num}&quot;&gt; http://redmine.greensight.ru/issues/${num} &lt;/a&gt;')</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=Card_ExternalSystemUrl</td>
	<td>http://redmine.greensight.ru/issues/${num}</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>xpath=(//input[@type='text'])[7]</td>
	<td>${tag}</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>xpath=(//input[@type='text'])[7]</td>
	<td>${KEY_TAB}</td>
</tr>
<tr>
	<td>select</td>
	<td>id=Card_LaneId</td>
	<td>label=${lane}</td>
</tr>
<tr>
	<td>click</td>
	<td>link=Assigned Users</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//div[contains(text(),'${userType}')]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=card-save</td>
	<td></td>
</tr>
<tr>
	<td>waitForNotVisible</td>
	<td>id=card-save</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>${link}</td>
	<td></td>
</tr>
</tbody></table>
</body>
</html>
